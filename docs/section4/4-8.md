# ASHVAC â€“ Rule 4-8
**Rule ID:** 4-8
 
**Rule Description:** Schedules may be allowed to differ between proposed design and baseline building design when necessary to model nonstandard efficiency measures, such as automatic natural ventilation controls, automatic demand control ventilation controls. In no case shall schedules differ where the controls are manual.  
**Rule Assertion:** P-RMR = B-RMR                                             
**Appendix G Section:** Table G3.1 Section 4 Baseline Exception 2  
**Appendix G Section Reference:**  None

**Applicability Checks:** 

1. Applies to zones with nonstandard efficiency measures, such as automatic natural ventilation controls, automatic demand control ventilation controls.

**Evaluation Context:** Evaluate each Terminal data group  
**Data Lookup:** None  
**Function Call:** None

**Rule Logic:**
**Applicability Check 1:** 
- For each zone in P_RMR: `for zone_p in P_RMR...Zone:`
    - Create a total OA schedule by looping through the terminal units associated with the zone: `for terminal_p in zone_p.terminals:`
        -Check if the minimum OA flow is greater than zero (this means the terminal unit provides OA)
    
    
    - Check if zone has DCV or natural ventations (???): `if zone_p.demand_controlled_ventilation_control_type != "None"`
        - Set applicability flag to TRUE: `rule_applicability_check = TRUE`                
     
    - Get the analogous Zone ID in the B_RMR: `zone_b = match_data_element(B_RMR,Zones,zone_p.id)`
    - For each terminal unit associated with each zone: `for terminal_b in zone_b:`
        - Get the served_by_heating_ventilation_air_conditioning_systems for each terminal: `heating_ventilation_air_conditioning_systems_b = terminal_b.served_by_heating_ventilation_air_conditioning_systems`
            - Create list of heating_ventilation_air_conditioning_systems_b add to as the code loops through the terminal units: `heating_ventilation_air_conditioning_systems_list_b = heating_ventilation_air_conditioning_systems_list_b.append(heating_ventilation_air_conditioning_systems_b)`                    
    - Convert the list of heating_ventilation_air_conditioning_systems_list_b associated with the zone to a set and the back to a list to eliminate duplicates: `heating_ventilation_air_conditioning_systems_list_b = list(set(heating_ventilation_air_conditioning_systems_list_b))` #Should only be 1.   
    - Get the fan schedule of the first index of list of HVAC systems and associated fan systems: `operating_schedule_b = heating_ventilation_air_conditioning_systems_list_b[0].fansystems[0].operating_schedule` # there should only be 1 HVAC system and fan system per zone for the BRMR so this should work for getting the baseline fan schedule.

    - For each terminal unit associated with each zone: `for terminal_p in zone_p:`
        - Get the served_by_heating_ventilation_air_conditioning_systems for each terminal: `heating_ventilation_air_conditioning_systems_p = terminal_p.served_by_heating_ventilation_air_conditioning_systems`
            - Create list of heating_ventilation_air_conditioning_systems_p add to as the code loops through the terminal units: `heating_ventilation_air_conditioning_systems_list_p = heating_ventilation_air_conditioning_systems_list_p.append(heating_ventilation_air_conditioning_systems_p)`                    
    - Convert the list of heating_ventilation_air_conditioning_systems_list_p associated with the zone to a set and the back to a list to eliminate duplicates: `heating_ventilation_air_conditioning_systems_list_p = list(set(heating_ventilation_air_conditioning_systems_list_p))`   
        - For each hvac_p in heating_ventilation_air_conditioning_systems_list_p: `for each hvac_p in heating_ventilation_air_conditioning_systems_list_p:`                         
            - For each fan system in hvac_p: `fan_systems_p in hvac_p.fan_systems:`
                - Get fan system operating schedule: `operating_schedule_p = fan_system_p.operating_schedule` # if there is more than one HVAC system per zone in the proposed how do we compared it with the baseline, placeholder logic is to compare each proposed HVAC system schedule with the single baseline fan schedule for the zone.
                    - For each hour of the year: `For i in range(8760):`
                        - Check if baseline and proposed schedules are not equal: `if operating_schedule_p[i] != operating_schedule_b[i]:`
                        **Rule Assertion:**
                        - Case 1: if rule_applicability_check equals true: `if rule_applicability_check == TRUE: PASS`

                        - Case 2: Else:`else: FAIL and raise_message "BASELINE AND PROPOSED FAN SCHEDULES DIFFER FOR AT LEAST ONE HVAC SYSTEM SERVING THE ZONE. "`

**Applicability Checks:** 

 1. Applies to zones with nonstandard efficiency measures, such as automatic natural ventilation controls, automatic demand control ventilation controls.: `if rule_applicability_check: is_applicable = TRUE`
 2. Baseline HVAC systems have been established correctly in the B_RMR.